!function(){"use strict";angular.module("cvMakerApp",["ngAnimate","ngRoute","ngResource","ui.bootstrap"]).config(["$locationProvider","$routeProvider",function(e,t){e.hashPrefix("!"),t.when("/main",{template:"<main-page></main-page>"}).when("/resume",{template:"<user-resume></user-resume>"}).when("/experience",{template:"<user-experience></user-experience>"}).when("/education",{template:"<login-page></login-page>"}).when("/:newSection",{template:"<empty-section></empty-section>"}).otherwise("/main")}])}(),function(){"use strict";angular.module("cvMakerApp").constant("constants",{API_URL:"http://localhost:8000/",GENERAL:{SAVE:"Save",EDIT:"Edit",CLOSE:"Close",NAME:"Name",NO_INFORMATION:"No information",CURRENT_INFORMATION:"Current information"},NAVIGATION:{YOUR_PROFILE:"Your profile",MAIN:"Main",RESUME:"Resume",EDUCATION:"Education",EXPERIENCE:"Experience",ADD_A_NEW_SECTION:"Add a new section",LOGOUT:"Logout"},MAIN_PAGE:{PHONE:"Phone",EMAIL:"Email"},RESUME:{RESUME:"Resume"},EDUCATION:{EDUCATION:"Education",SCHOOL_NAME:"School name",COURSE:"Course",START_DATE:"Start date",END_DATE:"End date"},EXPERIENCE:{EXPERIENCE:"Experience",JOB_TITLE:"Job title",COMPANY_NAME:"Company name",START_DATE:"Start date",END_DATE:"End date"},SKILLS:{SKILLS:"Skills"},LANGUAGES:{LANGUAGES:"Languages"}})}(),function(){"use strict";function e(e,t){function n(t){return e("",{},{get:{method:"GET",params:{id:this.userAuth.id},url:o+"main/:id"},saveSchool:{method:"POST",params:{params:t,user_id:this.userAuth.id},url:o+"school/save"},removeSchool:{method:"DELETE",params:{id:this.currentItem.school.id},url:o+"school/destroy/:id"},saveJob:{method:"POST",params:{params:t,user_id:this.userAuth.id},url:o+"job/save"},removeJob:{method:"DELETE",params:{id:this.currentItem.job.id},url:o+"job/destroy/:id"},savePersonalData:{method:"POST",params:{params:t,user_id:this.userAuth.id},url:o+"main/resume/save"},removeResume:{method:"DELETE",params:{user_id:this.userAuth.id,dataType:"resume"},url:o+"main/destroy"}})}var o=t.API_URL;return{userData:n,userAuth:{id:5},currentItem:{type:null,school:{id:null},job:{id:null}}}}e.$inject=["$resource","constants"],angular.module("cvMakerApp").factory("cvMaker",e)}(),function(){"use strict";function e(){var e=this;switch(e.buttonText=null,e.type){case"experience":e.buttonText="Add one more company";break;case"education":e.buttonText="Add one more school"}}angular.module("cvMakerApp").component("addNewSectionBtn",{templateUrl:"../templates/shared/add-new-section-button.template.html",bindings:{type:"="}}).controller("AddNewSectionBtnController",e)}(),function(){"use strict";angular.module("cvMakerApp").directive("isActiveNav",["$location",function(e){return{restrict:"A",link:function(t,n,o){t.location=e;var a=o.href;a=a.substring(1),t.$watch("location.path()",function(e){a==="!"+e?n.parent().addClass("active"):n.parent().removeClass("active")})}}}])}(),function(){"use strict";function e(e){var t=this;switch(t.type){case"schoolItem":e.currentItem.type=t.type,e.currentItem.school.id=t.data.schoolId;break;case"jobItem":e.currentItem.type=t.type,e.currentItem.job.id=t.data.jobId;break;case"resumeAll":e.currentItem.type=t.type}}angular.module("cvMakerApp").component("removeBtn",{templateUrl:"../templates/shared/remove-button.template.html",bindings:{data:"=",type:"@"}}).controller("RemoveBtnController",e),e.$inject=["cvMaker"]}(),function(){"use strict";function e(e,t,n){var o=this;o.removeItem=function(){switch(e.currentItem.type){case"schoolItem":e.userData().removeSchool().$promise.then(function(){console.log("school was removed"),n(function(){t.location.reload()},1e3)});break;case"jobItem":e.userData().removeJob().$promise.then(function(){console.log("job was removed"),n(function(){t.location.reload()},1e3)});break;case"resumeAll":e.userData().removeResume().$promise.then(function(){console.log("resume was removed"),n(function(){t.location.reload()},1e3)})}$("#removeJob").modal("hide")}}angular.module("cvMakerApp").component("removePopup",{templateUrl:"../templates/shared/remove-popup.template.html",bindings:{item:"="}}).controller("RemovePopupController",e),e.$inject=["cvMaker","$window","$timeout"]}(),function(){"use strict";function e(e){var t=this;e.userData().get().$promise.then(function(e){t.userInfo=e.user})}angular.module("cvMakerApp").component("saveButton",{templateUrl:"../templates/shared/save-button.template.html"}).controller("SaveButtonController",e),e.$inject=["cvMaker"]}(),function(){"use strict";function e(e,t,n,o,a){var r=this;e.clear=function(){e.school.start_date=null,e.school.end_date=null},e.openStartDate=function(t){e.status.openedStartDate=!0},e.openEndDate=function(t){e.status.openedEndDate=!0},e.dateOptions={formatYear:"yyyy",formatMonth:"MMMM",minMode:"month"},e.dateFormat="MMMM, yyyy",e.status={openedStartDate:!1,openedEndDate:!1},r.saveSchoolData=function(e){e.start_date=new Date(e.start_date).toISOString().slice(0,19).replace("T"," "),e.end_date=new Date(e.end_date).toISOString().slice(0,19).replace("T"," "),t.userData(e).saveSchool().$promise.then(function(){console.log("school was saved"),n(function(){o.location.reload()},1e3)})}}angular.module("cvMakerApp").component("educationForm",{templateUrl:"../templates/components/education/education-form.template.html"}).controller("EducationFormController",e),e.$inject=["$scope","cvMaker","$timeout","$window","$location"]}(),function(){"use strict";function e(e){var t=this;t.constants=e,t.openModal=function(){$("#removeItem").modal("show")},t.converted_start_date=new Date(t.school.start_date),t.converted_end_date=new Date(t.school.end_date)}angular.module("cvMakerApp").component("educationSubmitted",{templateUrl:"../templates/components/education/education-submitted.template.html",bindings:{school:"="}}).controller("EducationSubmittedController",e),e.$inject=["constants"]}(),function(){"use strict";function e(e,t,n,o,a){var r=this;r.type="education",r.constants=a,r.addSectionItem=function(){var t=angular.element("<education-form>");$("#education-item").append(t),o(t)(e)},n.userData().get().$promise.then(function(e){r.userInfo=e.user}),r.openModal=function(){$("#removeItem").modal("show")}}angular.module("cvMakerApp").component("userEducation",{templateUrl:"../templates/components/education/education.template.html"}).controller("UserExperienceController",e),e.$inject=["$scope","$routeParams","cvMaker","$compile","constants"]}(),function(){"use strict";function e(e,t,n,o){var a=this;e.clear=function(){e.job.start_date=null,e.job.end_date=null},e.openStartDate=function(t){e.status.openedStartDate=!0},e.openEndDate=function(t){e.status.openedEndDate=!0},e.dateOptions={formatYear:"yyyy",formatMonth:"MMMM",minMode:"month"},e.dateFormat="MMMM, yyyy",e.status={openedStartDate:!1,openedEndDate:!1},a.items=[],a.AddItem=function(){a.items.push(a.newItem),a.newItem=null},a.saveJobData=function(e){e.start_date=new Date(e.start_date).toISOString().slice(0,19).replace("T"," "),e.end_date=new Date(e.end_date).toISOString().slice(0,19).replace("T"," "),t.userData(JSON.stringify(e)).saveJob().$promise.then(function(){console.log("job was saved"),n(function(){o.location.reload()},1e3)})}}angular.module("cvMakerApp").component("experienceForm",{templateUrl:"../templates/components/experience/experience-form.template.html",bindings:{job:"="}}).controller("ExperienceFormController",e),e.$inject=["$scope","cvMaker","$timeout","$window"]}(),function(){"use strict";function e(){var e=this;e.RemoveItem=function(t){e.items.splice(e.items.indexOf(t),1)},e.openModal=function(){$("#removeItem").modal("show")}}angular.module("cvMakerApp").component("experienceSubmitted",{templateUrl:"../templates/components/experience/experience-submitted.template.html",bindings:{job:"="}}).controller("ExperienceSubmittedController",e)}(),function(){"use strict";function e(e,t,n){var o=this;o.type="experience",o.addSectionItem=function(){var t=angular.element("<experience-form>");$("#job-experience").append(t),n(t)(e)},t.userData().get().$promise.then(function(e){o.userInfo=e.user})}angular.module("cvMakerApp").component("userExperience",{templateUrl:"../templates/components/experience/experience.template.html"}).controller("UserExperienceController",e),e.$inject=["$scope","cvMaker","$compile"]}(),function(){"use strict";function e(e,t,n){}angular.module("cvMakerApp").component("loginPage",{templateUrl:"../templates/components/login/login-page.template.html"}).controller("LoginPageController",e),e.$inject=["$scope","cvMaker","constants"]}(),function(){"use strict";function e(e,t){var n=this;n.user={},n.constants=t,n.edit=function(){n.user.edit=!n.user.edit},n.addSection=function(){$("#addSection").modal("show")},e.userData().get().$promise.then(function(e){n.userInfo=e.user,console.log(n.userInfo)})}angular.module("cvMakerApp").component("mainPage",{templateUrl:"../templates/components/main-page/main-page.template.html"}).controller("MainPageController",e),e.$inject=["cvMaker","constants"]}(),function(){"use strict";function e(e){var t=this;t.sectionTitle=e.newSection}angular.module("cvMakerApp").component("emptySection",{templateUrl:"../templates/components/new-section/empty-section.template.html"}).controller("EmptySectionController",e),e.$inject=["$routeParams"]}(),function(){"use strict";function e(){var e=this;e.sectionLink=e.section}angular.module("cvMakerApp").component("newNavigationLink",{templateUrl:"../templates/components/new-section/new-navigation-link.template.html",bindings:{section:"="}}).controller("newNavigationLinkController",e)}(),function(){"use strict";function e(e,t,n){var o=this;o.section={name:null,count:1},o.newSection={name:null},o.addSection=function(){o.newSection.name=o.section.name;var a=angular.element("<new-navigation-link section='$ctrl.newSection.name'></new-navigation-link>");$("#addNewSectionLink").before(a),n(a)(e),o.section.count++,t.newSection=o.section.count+"/"+o.section.name,o.section.name="",$("#addSection").modal("hide")}}angular.module("cvMakerApp").component("newSectionPopup",{templateUrl:"../templates/components/new-section/new-section-popup.template.html"}).controller("NewSectionController",e),e.$inject=["$scope","$routeParams","$compile"]}(),function(){"use strict";function e(){var e=this;e.openModal=function(){$("#removeItem").modal("show")}}angular.module("cvMakerApp").component("userResume",{templateUrl:"../templates/components/resume/resume.template.html"}).controller("UserResumeController",e)}(),function(){"use strict";function e(e,t){var n=this;e.userData().get().$promise.then(function(e){n.userInfo=e.user.resume,t.data={resume:n.userInfo}}),n.saveResume=function(t){console.log(t),e.userData(t).savePersonalData().$promise.then(function(){})}}angular.module("cvMakerApp").component("textField",{templateUrl:"../templates/components/resume/textField.template.html"}).controller("TextfieldController",e),e.$inject=["cvMaker","$scope"]}();