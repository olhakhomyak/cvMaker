!function(){"use strict";function e(e,t,n,o,a){var r=this;e.clear=function(){e.school.start_date=null,e.school.end_date=null},e.openStartDate=function(t){e.status.openedStartDate=!0},e.openEndDate=function(t){e.status.openedEndDate=!0},e.dateOptions={formatYear:"yyyy",formatMonth:"MMMM",minMode:"month"},e.dateFormat="MMMM, yyyy",e.status={openedStartDate:!1,openedEndDate:!1},r.saveSchoolData=function(e){e.start_date=new Date(e.start_date).toISOString().slice(0,19).replace("T"," "),e.end_date=new Date(e.end_date).toISOString().slice(0,19).replace("T"," "),t.userData(e).saveSchool().$promise.then(function(){console.log("school was saved"),n(function(){o.location.reload()},1e3)})}}angular.module("education").component("educationForm",{templateUrl:"education/education-form.template.html",controller:e})}(),function(){"use strict";function e(e){var t=this;t.constants=e,t.openModal=function(){$("#removeItem").modal("show")},t.converted_start_date=new Date(t.school.start_date),t.converted_end_date=new Date(t.school.end_date)}angular.module("education").component("educationSubmitted",{templateUrl:"education/education-submitted.template.html",bindings:{school:"="},controller:e})}(),function(){"use strict";angular.module("education").component("userEducation",{templateUrl:"education/education.template.html",controller:["$scope","$routeParams","cvMaker","$compile",function(e,t,n,o,a){var r=this;r.type="education",r.constants=a,r.addSectionItem=function(){var t=angular.element("<education-form>");$("#education-item").append(t),o(t)(e)},n.userData().get().$promise.then(function(e){r.userInfo=e.user}),r.openModal=function(){$("#removeItem").modal("show")}}]})}(),function(){"use strict";angular.module("education",["ngRoute","main.cvMaker"])}(),function(){"use strict";function e(e,t,n,o){var a=this;e.clear=function(){e.job.start_date=null,e.job.end_date=null},e.openStartDate=function(t){e.status.openedStartDate=!0},e.openEndDate=function(t){e.status.openedEndDate=!0},e.dateOptions={formatYear:"yyyy",formatMonth:"MMMM",minMode:"month"},e.dateFormat="MMMM, yyyy",e.status={openedStartDate:!1,openedEndDate:!1},a.items=[],a.AddItem=function(){a.items.push(a.newItem),a.newItem=null},a.saveJobData=function(e){e.start_date=new Date(e.start_date).toISOString().slice(0,19).replace("T"," "),e.end_date=new Date(e.end_date).toISOString().slice(0,19).replace("T"," "),t.userData(JSON.stringify(e)).saveJob().$promise.then(function(){console.log("job was saved"),n(function(){o.location.reload()},1e3)})}}angular.module("experience").component("experienceForm",{templateUrl:"experience/experience-form.template.html",bindings:{job:"="},controller:e})}(),function(){"use strict";function e(){var e=this;e.RemoveItem=function(t){e.items.splice(e.items.indexOf(t),1)},e.openModal=function(){$("#removeItem").modal("show")}}angular.module("experience").component("experienceSubmitted",{templateUrl:"experience/experience-submitted.template.html",bindings:{job:"="},controller:e})}(),function(){"use strict";function e(e,t,n){var o=this;o.type="experience",o.addSectionItem=function(){var t=angular.element("<experience-form>");$("#job-experience").append(t),n(t)(e)},t.userData().get().$promise.then(function(e){o.userInfo=e.user})}angular.module("experience").component("userExperience",{templateUrl:"experience/experience.template.html",controller:e})}(),angular.module("experience",["ngRoute","main.cvMaker"]),function(){"use strict";angular.module("main",["main.cvMaker"])}(),function(){"use strict";function e(e){var t=this;t.user={},t.edit=function(){t.user.edit=!t.user.edit},t.addSection=function(){$("#addSection").modal("show")},e.userData().get().$promise.then(function(e){t.userInfo=e.user,console.log(t.userInfo)})}angular.module("mainPage").component("mainPage",{templateUrl:"main-page/main-page.template.html",controller:e})}(),function(){"use strict";angular.module("mainPage",["main.cvMaker"])}(),function(){"use strict";function e(e){var t=this;t.sectionTitle=e.newSection}angular.module("newSection").component("emptySection",{templateUrl:"new-section/empty-section.template.html",controller:e})}(),function(){"use strict";function e(){var e=this;e.sectionLink=e.section}angular.module("newSection").component("newNavigationLink",{templateUrl:"new-section/new-navigation-link.template.html",controller:e,bindings:{section:"="}})}(),function(){"use strict";function e(e,t,n){var o=this;o.section={name:null,count:1},o.newSection={name:null},o.addSection=function(){o.newSection.name=o.section.name;var a=angular.element("<new-navigation-link section='$ctrl.newSection.name'></new-navigation-link>");$("#addNewSectionLink").before(a),n(a)(e),o.section.count++,t.newSection=o.section.count+"/"+o.section.name,o.section.name="",$("#addSection").modal("hide")}}angular.module("newSection").component("newSectionPopup",{templateUrl:"new-section/new-section-popup.template.html",controller:e})}(),function(){"use strict";angular.module("newSection",["ngRoute","main.cvMaker"])}(),function(){"use strict";function e(){var e=this;e.openModal=function(){$("#removeItem").modal("show")}}angular.module("resume",[]).component("userResume",{templateUrl:"resume/resume.template.html",controller:e})}(),function(){"use strict";angular.module("resume",["ngRoute","main.cvMaker"])}(),function(){"use strict";function e(e,t){var n=this;e.userData().get().$promise.then(function(e){n.userInfo=e.user.resume,t.data={resume:n.userInfo}}),n.saveResume=function(t){console.log(t),e.userData(t).savePersonalData().$promise.then(function(){})}}angular.module("resume").component("textField",{templateUrl:"resume/textField.template.html",controller:e,bindings:{}})}(),function(){"use strict";function e(){var e=this;switch(e.buttonText=null,e.type){case"experience":e.buttonText="Add one more company";break;case"education":e.buttonText="Add one more school"}}angular.module("shared").component("addNewSectionBtn",{templateUrl:"shared/add-new-section-button.template.html",bindings:{type:"="},controller:e})}(),function(){"use strict";angular.module("shared").directive("isActiveNav",["$location",function(e){return{restrict:"A",link:function(t,n,o){t.location=e;var a=o.href;a=a.substring(1),console.log(a),t.$watch("location.path()",function(e){a==="!"+e?n.parent().addClass("active"):n.parent().removeClass("active")})}}}])}(),function(){"use strict";function e(e){var t=this;switch(t.type){case"schoolItem":e.currentItem.type=t.type,e.currentItem.school.id=t.data.schoolId;break;case"jobItem":e.currentItem.type=t.type,e.currentItem.job.id=t.data.jobId;break;case"resumeAll":e.currentItem.type=t.type}}angular.module("shared").component("removeBtn",{templateUrl:"shared/remove-button.template.html",bindings:{data:"=",type:"@"},controller:e})}(),function(){"use strict";function e(e,t,n){var o=this;o.removeItem=function(){switch(e.currentItem.type){case"schoolItem":e.userData().removeSchool().$promise.then(function(){console.log("school was removed"),n(function(){t.location.reload()},1e3)});break;case"jobItem":e.userData().removeJob().$promise.then(function(){console.log("job was removed"),n(function(){t.location.reload()},1e3)});break;case"resumeAll":e.userData().removeResume().$promise.then(function(){console.log("resume was removed"),n(function(){t.location.reload()},1e3)})}$("#removeJob").modal("hide")}}angular.module("shared").component("removePopup",{templateUrl:"shared/remove-popup.template.html",controller:e,bindings:{item:"="}})}(),function(){"use strict";function e(e){var t=this;e.userData().get().$promise.then(function(e){t.userInfo=e.user})}angular.module("shared").component("saveButton",{templateUrl:"shared/save-button.template.html",controller:e})}(),function(){"use strict";angular.module("shared",["ngRoute","main.cvMaker"])}();